{% extends '@EasyAdmin/page/content.html.twig' %}

{% block page_title %}Edit Package{% endblock %}

{% block search_wrapper %}
  {{ include('dashboard/packages/_search_box.html.twig', {autofocus: false}, with_context: false) }}
{% endblock %}

{% block page_actions %}
  <div class="global-actions">
    <button class="btn btn-primary" form="package_form">{{ 'action.save'|trans({}, 'EasyAdminBundle') }}</button>
  </div>
{% endblock %}

{% block page_content %}
  {{ form_start(form, {'attr': {'id': 'package_form'}}) }}
    {{ form_row(form.name) }}

    <div class="form-fieldset">
      <fieldset>
        <div class="form-fieldset-header">
          <div class="form-fieldset-title">
            <span class="form-fieldset-title-content">
              {{ 'Repository'|trans }}
            </span>
          </div>
        </div>

        <div class="form-fieldset-body">
          <div class="row">
            <div>
              {{ form_row(form.repositoryUrl) }}
              {{ form_row(form.repositoryCredentials) }}
            </div>
          </div>
        </div>
      </fieldset>
    </div>

    <div class="form-fieldset">
      <fieldset>
        <div class="form-fieldset-header">
          <div class="form-fieldset-title">
            <span class="form-fieldset-title-content">
              {{ 'Mirroring'|trans }}
            </span>
          </div>
        </div>

        <div class="form-fieldset-body">
          <div class="row">
            <div>
              {{ form_row(form.mirrorRegistry) }}
              {% if form.fetchStrategy is defined %}
                {{ form_row(form.fetchStrategy) }}
              {% endif %}
            </div>
          </div>
        </div>
      </fieldset>
    </div>

    {% if form.distributionStrategy is defined %}
      <div class="form-fieldset">
        <fieldset>
          <div class="form-fieldset-header">
            <div class="form-fieldset-title">
            <span class="form-fieldset-title-content">
              {{ 'Distributions'|trans }}
            </span>
            </div>
          </div>

          <div class="form-fieldset-body">
            <div class="row">
              <div>
                {{ form_row(form.distributionStrategy) }}
              </div>
            </div>
          </div>
        </fieldset>
      </div>
    {% endif %}
  {{ form_end(form) }}
{% endblock %}
