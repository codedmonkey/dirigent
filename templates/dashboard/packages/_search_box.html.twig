<div class="content-search">
  <form class="form-action-search" action="{{ path('dashboard_packages') }}" method="get">
    <div class="form-group">
      <div class="form-widget">
        <i class="fas fa-search content-search-icon"></i>

        <label class="content-search-label" data-value="{{ app.request.get('query') }}">
          <input
            name="query"
            class="form-control {{ app.request.get('query') is null ? 'is-blank' }}"
            type="search"
            value="{{ app.request.get('query') ?? '' }}"
            placeholder="{{ 'Search packages'|trans }}"
            spellcheck="false"
            autocorrect="off"
            {% if not searchAutofocus is defined or searchAutofocus %}autofocus="autofocus"{% endif %}
          >
        </label>

        {% if app.request.get('query') %}
          {% set clearRouteParameters = app.request.get('_route_params')|filter((value, key) => key != 'query' and key != 'page') %}
          <a href="{{ path('dashboard_packages', clearRouteParameters) }}" class="content-search-reset">
            <i class="fas fa-fw fa-times"></i>
          </a>
        {% endif %}
      </div>
    </div>
  </form>
</div>
