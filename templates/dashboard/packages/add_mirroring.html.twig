{% extends '@EasyAdmin/page/content.html.twig' %}

{% form_theme form 'dashboard/dashboard_form_theme.html.twig' %}

{% block page_title %}Mirror packages from registry{% endblock %}

{% block page_content %}
  <div {{ stimulus_controller('packages-mirroring', {packageUrl: path('dashboard_packages_info', {packageName: 'place/holder'})}) }}>
    <div
      class="border-top border-bottom my-3"
      {{ stimulus_target('packages-mirroring', 'packageList') }}
    >
    </div>

    {{ form_start(form, {
      attr: {
        'action': path('dashboard_packages_add_mirroring'),
        'data-action': 'packages-mirroring#submitForm',
        'data-packages-mirroring-target': 'form',
      },
    }) }}
      {{ form_errors(form) }}

      <div class="row">
        <div class="col-lg-8">
          {{ form_row(form.packages, {attr: {rows: 5}}) }}
        </div>
        <div class="col-lg-4">
          {{ form_row(form.registry) }}
        </div>
      </div>

      <button class="btn btn-primary">Add packages</button>
    {{ form_end(form) }}
  </div>
{% endblock %}
